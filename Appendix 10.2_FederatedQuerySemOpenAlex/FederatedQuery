PREFIX : <http://www.metaphacts.com/resource/>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX keywordsearch: <http://www.metaphacts.com/ontologies/platform/service/keywordsearch/>
PREFIX Service: <http://www.metaphacts.com/ontologies/platform/service/>
PREFIX Repository: <http://www.metaphacts.com/ontologies/repository#>
PREFIX dcterms: <http://purl.org/dc/terms/>

SELECT DISTINCT ?subject ?label ?dataset ?datasetLabel ?score WHERE {
  SERVICE Repository:SemOpLex {
    SERVICE Service:keywordSearch {
      ?subject keywordsearch:query "Tumor mutational burden Atezolizumab" ;
               keywordsearch:dataset ?dataset ;
               keywordsearch:datasetLabel ?datasetLabel ;
               keywordsearch:score ?score ;
               keywordsearch:limit 10 .
    }
    FILTER(ISIRI(?subject))

    OPTIONAL {
      ?subject rdfs:label ?label .
    }
    OPTIONAL {
      ?subject dcterms:title ?label .
    }
  }
}
GROUP BY ?subject ?dataset ?datasetLabel ?score ?label
ORDER BY DESC (?score)
